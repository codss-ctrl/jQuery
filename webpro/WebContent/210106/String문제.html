<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>String 문제</title>
<link rel = "stylesheet" href="../css/public.css">
<link rel="shortcut icon" type="image/x-icon" href="../images/aa.ico?1"/> 
<script>
function proc1(){
	a = prompt("입력하세요","123456-1234567")
	
	yy=a.substr(0,2);//substring(0,2)->12
	mm=a.substr(2,2);//substring(2,4)->34
	dd=a.substr(4,2);//substring(4,6)->56
	
	gg = a.substr(7,1);//substring(7,8)
	
	//생년월일
	if (gg == "3"|| gg == "4"){
		year = "20" + yy;
	}else if(gg == "2" || gg == "1"){
		year = "19" + yy;
	}
	
	res = "주민번호 : " + yy + mm + dd + "-" + gg + "******"+"<br>";
	res += `생년월일 :  ${year}년  ${mm}월 ${dd}일<br>`;
	
	//성별
	if (gg == "1"|| gg == "3") {
		gender = "남자"
	}else if(gg == "2"|| gg == "4"){
		gender ="여자"
	}
	
	res += "성별 : " +gender + "<br>";
	
	//나이
	today = new Date();
	toyear = today.getFullYear();
	 age = toyear - parseInt(year);
	 
	 res += "나이 : " + age + "세입니다";
	
	print('result1')
	
		
}
function print(result){
	document.getElementById(result).innerHTML = res;
}	
function proc2(){
	
	ss = "234567892345";
	a = prompt("주민번호 입력","991010-2161612");
	sum = 0;
	
	aa = a.split("-"); //배열로 리턴 -> aa[0], aa[1]
	bb = aa[0].concat(aa[1]); //9910102161612
	
	for (i = 0; i < bb.length-1; i++) {
		sum += bb.charAt(i) * ss.charAt(i);
	}
	
	a1 = 11 - sum % 11; //0~11
	
	nam = a1 % 10; //0~9
	
	res = "주민번호 : " +  a.substring(0,8) + "*******<br>";  
	
	if(bb.charAt(bb.length-1) == nam){
		//alert("진짜입니다")
		res += "진짜입니다<br>"
	}else {
		//alert("가짜입니다")
		res += "가짜입니다<br>"
	}
	
	print('result2');
  	
	
}
</script>
</head>
<body>

<pre>
1.주민등록번호를 입력 받아 생년월일과 성별을 출력하는 프로그램을 작성하시오.(입력은 prompt로 입력받는다.)
예) 주민등록번호를 110326-4432618로 입력 받은 경우
생일 : 2011년 3월 26일
성별 : 여자  나이:  

110326-4432618
  [0123456789....]
  substring(0,2) -> 11
  substring(2,4)
  substring(4,6)
  
  a=substr(0,2)
  b=substr(2,2)
  c=substr(4,2)	
  d=substr(7,1)->1인지 2인지 ->if 1이거나 2이면 1900년대 3,4면 2000년대
  
  charAt(7) => 4
</pre>
<input type="button" value="확인" onclick="proc1()">
<br>
<div id="result1"></div>
<pre>
2.주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오.(ABCDEF-GHIJKLM)
	-A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.
	[0]*2 [1]*3       [9]*9 [10]*2      [13]*5 
	-1번의 합을 11로 나눈 나머지를 구한다.
	-11에서 2번의 결과를 뺀다. //0~11
	-3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환
	-4번의 결과와 M자리의 값이 같으면 맞는 번호이다. M = 0~9
</pre>
<input type="button" value="확인" onclick="proc2()">
<br>
<div id="result2"></div>
</body>
</html>